<div class="page-wrapper" ng-controller="TicketsController as c" ng-init="c.initialize()">
  <div class="page-header">
    <h3>Tickets <c-subheader></c-subheader></h3>
  </div>
  
  <ol class="breadcrumb">
    <li><a ui-sref="dashboard"><i class="fa fa-dashboard"></i> Dashboard</a></li>
    <li class="active">Tickets</li>
  </ol>

  <div class="row">
    <div class="col-lg-12">
      <div class="row">
        <div class="col-md-4">
          <div class="row sm-gutter">
            <div class="col-xs-4">
              <div c-ticket-box number="3" box-type="danger" caption="Open"></div>
            </div>
            <div class="col-xs-4">
              <div c-ticket-box number="1" box-type="warning" caption="Pending"></div>
            </div>
            <div class="col-xs-4">
              <div c-ticket-box number="9" box-type="success" caption="Closed"></div>
            </div>
          </div>
        </div>
        <div class="col-md-8">
          <div id="resolutionLineGraph"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="panel panel-default">
        <div class="panel-heading">
          <span class="panel-title"><i class="fa fa-flag"></i> List of Tickets</span>
        </div>
        <div class="panel-body">
          <ul class="nav nav-tabs">
            <li role="presentation" class="active"><a href="#">All</a></li>
            <li role="presentation"><a href="#">Open</a></li>
            <li role="presentation"><a href="#">Pending</a></li>
            <li role="presentation"><a href="#">Closed</a></li>
          </ul>
          <br>
          <table class="table table-condensed">
            <thead>
              <tr>
                <th>Status</th><th>Subject</th><th>Priority</th><th>Opened</th><th>Customer</th><th>Assigned</th><th>Store</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="ticket in c.tickets" ng-class="{'odd':$even}">
                <td><c-ticket-status label="{{ticket.status}}"></c-ticket-status></td>
                <td><a ui-sref="view-ticket({ticketId:c.tickets.indexOf(ticket)})">{{ticket.subject}}</a></td>
                <td>{{ticket.priority}}</td>
                <td>{{ticket.dateCreated}}</td>
                <td><a ui-sref="view-customer">{{ticket.customer}}</a></td>
                <td>{{ticket.assigned}}</td>
                <td>{{ticket.store}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>